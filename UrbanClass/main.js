/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var roi = 
    /* color: #ffc82d */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-123.41054055342455, 41.346599408357],
          [-123.41054055342455, 40.072492956391045],
          [-120.99904152998705, 40.072492956391045],
          [-120.99904152998705, 41.346599408357]]], null, false),
    heavyVeg = 
    /* color: #d63000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-122.12276640613973, 40.797237903742776],
           [-122.12276640613973, 40.79424893537908],
           [-122.11695137699544, 40.79424893537908],
           [-122.11695137699544, 40.797237903742776]]],
         [[[-122.12936889035659, 40.803007116426045],
           [-122.12936889035659, 40.803007116426045],
           [-122.12936889035659, 40.803007116426045],
           [-122.12936889035659, 40.803007116426045]]],
         [[[-122.12799559934096, 40.80264977791639],
           [-122.12799559934096, 40.798588977885856],
           [-122.11730967862563, 40.798588977885856],
           [-122.11730967862563, 40.80264977791639]]],
         [[[-122.08907366253281, 40.80326808628344],
           [-122.08907366253281, 40.797712901057594],
           [-122.08049059368516, 40.797712901057594],
           [-122.08049059368516, 40.80326808628344]]],
         [[[-122.22250567480481, 40.8428949605357],
           [-122.22250567480481, 40.83828467071675],
           [-122.21362219854748, 40.83828467071675],
           [-122.21362219854748, 40.8428949605357]]],
         [[[-122.18884689279803, 40.85592280903216],
           [-122.18884689279803, 40.85409694722696],
           [-122.18331081339129, 40.85409694722696],
           [-122.18331081339129, 40.85592280903216]]],
         [[[-122.3810433714375, 40.94613053360439],
           [-122.3810433714375, 40.943456235485215],
           [-122.37612956452222, 40.943456235485215],
           [-122.37612956452222, 40.94613053360439]]],
         [[[-122.08704112596936, 40.92323022583032],
           [-122.08704112596936, 40.92027936512613],
           [-122.0775568348927, 40.92027936512613],
           [-122.0775568348927, 40.92323022583032]]],
         [[[-122.37989940698442, 40.98410593820844],
           [-122.37989940698442, 40.9809634095818],
           [-122.37384834344682, 40.9809634095818],
           [-122.37384834344682, 40.98410593820844]]],
         [[[-122.32901162464717, 40.9306935375348],
           [-122.32901162464717, 40.926267696940954],
           [-122.31948441822627, 40.926267696940954],
           [-122.31948441822627, 40.9306935375348]]],
         [[[-122.1386787531306, 41.13834370546069],
           [-122.1386787531306, 41.132186352590466],
           [-122.12730618690746, 41.132186352590466],
           [-122.12730618690746, 41.13834370546069]]],
         [[[-122.31973859047191, 40.883601562356155],
           [-122.31973859047191, 40.877712396291074],
           [-122.31267901634472, 40.877712396291074],
           [-122.31267901634472, 40.883601562356155]]],
         [[[-122.27067891228015, 40.860782963264796],
           [-122.27067891228015, 40.85786988914411],
           [-122.26488534080798, 40.85786988914411],
           [-122.26488534080798, 40.860782963264796]]],
         [[[-122.31084277457248, 40.85088920614862],
           [-122.31084277457248, 40.849947807715445],
           [-122.30822493857394, 40.849947807715445],
           [-122.30822493857394, 40.85088920614862]]],
         [[[-122.22101291250591, 40.866099077519095],
           [-122.22101291250591, 40.85658927568458],
           [-122.20612128805523, 40.85658927568458],
           [-122.20612128805523, 40.866099077519095]]],
         [[[-122.37623141313736, 40.73882762287462],
           [-122.37623141313736, 40.736307536786065],
           [-122.37107084299271, 40.736307536786065],
           [-122.37107084299271, 40.73882762287462]]],
         [[[-122.19310320257571, 40.906150094497555],
           [-122.19310320257571, 40.903798537260144],
           [-122.18625820516971, 40.903798537260144],
           [-122.18625820516971, 40.906150094497555]]],
         [[[-121.89827699675494, 40.83332529324785],
           [-121.89827699675494, 40.83144198400769],
           [-121.89353485121661, 40.83144198400769],
           [-121.89353485121661, 40.83332529324785]]],
         [[[-122.1297888361879, 40.82371967451927],
           [-122.1297888361879, 40.82040713244566],
           [-122.12532564038712, 40.82040713244566],
           [-122.12532564038712, 40.82371967451927]]],
         [[[-122.17662137709522, 40.92109368880405],
           [-122.17662137709522, 40.91844269854802],
           [-122.1736816760149, 40.91844269854802],
           [-122.1736816760149, 40.92109368880405]]]], null, false),
    lightVeg = 
    /* color: #f968ff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-122.2174503240414, 40.698865422624856],
           [-122.2174503240414, 40.69772258054714],
           [-122.21612531278804, 40.69772258054714],
           [-122.21612531278804, 40.698865422624856]]],
         [[[-122.22241331143022, 40.7047653852513],
           [-122.22241331143022, 40.70436278483872],
           [-122.22190369171739, 40.70436278483872],
           [-122.22190369171739, 40.7047653852513]]],
         [[[-122.2231643640288, 40.70414728206421],
           [-122.2231643640288, 40.70375281135651],
           [-122.2222631417998, 40.70375281135651],
           [-122.2222631417998, 40.70414728206421]]],
         [[[-122.51560580030618, 40.99233277719605],
           [-122.51560580030618, 40.99133265460626],
           [-122.51053642526803, 40.99133265460626],
           [-122.51053642526803, 40.99233277719605]]],
         [[[-122.5200242457198, 40.99770357309697],
           [-122.5200242457198, 40.99599499164866],
           [-122.51723474834431, 40.99599499164866],
           [-122.51723474834431, 40.99770357309697]]],
         [[[-122.25602635570709, 40.67570634882941],
           [-122.25602635570709, 40.67485197255992],
           [-122.25377330013458, 40.67485197255992],
           [-122.25377330013458, 40.67570634882941]]],
         [[[-122.2637001556987, 40.67324693610808],
           [-122.2637001556987, 40.67085456671707],
           [-122.25710192152206, 40.67085456671707],
           [-122.25710192152206, 40.67324693610808]]],
         [[[-122.26476625442356, 40.609275394103804],
           [-122.26476625442356, 40.606033618621076],
           [-122.2582538509354, 40.606033618621076],
           [-122.2582538509354, 40.609275394103804]]],
         [[[-122.21655556709898, 40.673542006115134],
           [-122.21655556709898, 40.67025452501264],
           [-122.21101948769224, 40.67025452501264],
           [-122.21101948769224, 40.673542006115134]]],
         [[[-122.22031269595551, 40.688835253409025],
           [-122.22031269595551, 40.68690716838704],
           [-122.2158441357367, 40.68690716838704],
           [-122.2158441357367, 40.688835253409025]]],
         [[[-122.18709091258731, 40.712055141703885],
           [-122.18709091258731, 40.71031884594464],
           [-122.18329826904025, 40.71031884594464],
           [-122.18329826904025, 40.712055141703885]]],
         [[[-122.21300368787303, 40.72197470312701],
           [-122.21300368787303, 40.71964100347657],
           [-122.20819716931834, 40.71964100347657],
           [-122.20819716931834, 40.72197470312701]]],
         [[[-122.22248227996349, 40.54181220872737],
           [-122.22248227996349, 40.53965973358817],
           [-122.21286924285411, 40.53965973358817],
           [-122.21286924285411, 40.54181220872737]]],
         [[[-121.9925979149833, 40.75217429893675],
           [-121.9925979149833, 40.750126131155234],
           [-121.98285613184122, 40.750126131155234],
           [-121.98285613184122, 40.75217429893675]]],
         [[[-122.07382886471999, 40.75606555656547],
           [-122.07382886471999, 40.754249136283654],
           [-122.06760613980543, 40.754249136283654],
           [-122.06760613980543, 40.75606555656547]]],
         [[[-122.17090716123825, 40.57241385534219],
           [-122.17090716123825, 40.570625025383954],
           [-122.16516186952835, 40.570625025383954],
           [-122.16516186952835, 40.57241385534219]]],
         [[[-122.10809441666578, 40.84655245475584],
           [-122.10809441666578, 40.8445396618364],
           [-122.10410328965162, 40.8445396618364],
           [-122.10410328965162, 40.84655245475584]]],
         [[[-122.10483285050367, 40.844215012091915],
           [-122.10483285050367, 40.84218591515824],
           [-122.09710808854078, 40.84218591515824],
           [-122.09710808854078, 40.844215012091915]]],
         [[[-122.34716255764228, 40.65804091971555],
           [-122.34716255764228, 40.65162706338732],
           [-122.34081108669501, 40.65162706338732],
           [-122.34081108669501, 40.65804091971555]]],
         [[[-122.23401845399295, 40.70117992192407],
           [-122.23401845399295, 40.698780421004095],
           [-122.2316151947156, 40.698780421004095],
           [-122.2316151947156, 40.70117992192407]]]], null, false),
    water = 
    /* color: #3027ff */
    /* shown: false */
    ee.Geometry.MultiPolygon(
        [[[[-122.41479154066461, 40.75221761983311],
           [-122.41685147718805, 40.748056199656325],
           [-122.42062802748102, 40.74499999086111],
           [-122.42200131849664, 40.74148842864843],
           [-122.42740865187066, 40.738496951641906],
           [-122.42122884230035, 40.73108271140369],
           [-122.42011304335016, 40.728415984391475],
           [-122.41985555128473, 40.723667644932405],
           [-122.42303128675836, 40.72275696577168],
           [-122.4159073396148, 40.71982969836205],
           [-122.40629430250543, 40.720089905122514],
           [-122.40114446119684, 40.73212335636913],
           [-122.40543599562066, 40.73869205206925],
           [-122.40389104322809, 40.7423338216807],
           [-122.39599461988824, 40.741423397970124],
           [-122.39041562513727, 40.73921231707804],
           [-122.3844074769439, 40.74096818144174],
           [-122.39007230238336, 40.74369943388104],
           [-122.39728208021539, 40.74779610224814],
           [-122.39659543470758, 40.75241268001387],
           [-122.40286107496637, 40.751567415097746],
           [-122.40783925489801, 40.75364804786967]]],
         [[[-122.36974604521797, 40.78010953979385],
           [-122.37515337859199, 40.77666482823608],
           [-122.3809898654084, 40.77211493543853],
           [-122.37609751616523, 40.76905983257736],
           [-122.3729217806916, 40.76580956894844],
           [-122.3802173892121, 40.76177902127315],
           [-122.38296397124336, 40.75891848431719],
           [-122.38605387602851, 40.75657795342682],
           [-122.38596804534004, 40.75508257110478],
           [-122.38613970671699, 40.75261186574859],
           [-122.38688650368027, 40.74747510550231],
           [-122.37976255653672, 40.75098635162672],
           [-122.37521353004746, 40.755342640011754],
           [-122.36714544533066, 40.75488751875692],
           [-122.36087980507187, 40.74975093431657],
           [-122.35744657753281, 40.75222174598357],
           [-122.3596781754332, 40.75683801648405],
           [-122.35615911720566, 40.762039063983096],
           [-122.36276808021836, 40.76444441081968],
           [-122.36388387916855, 40.767239704530276],
           [-122.35916319130234, 40.77243993811459],
           [-122.36165228126816, 40.77711980037817]]],
         [[[-122.28119269576703, 40.765459363075294],
           [-122.28157893386518, 40.761558816328865],
           [-122.27784529891645, 40.760583643874924],
           [-122.27604285445844, 40.758795790551474],
           [-122.27243796554242, 40.757658040672595],
           [-122.27020636764203, 40.756682810991926],
           [-122.26909056869184, 40.75739798082329],
           [-122.26655856338178, 40.757593025805654],
           [-122.26514235702192, 40.755089905079885],
           [-122.26132289138471, 40.75453725533563],
           [-122.26055041518842, 40.75671531887844],
           [-122.26488486495649, 40.76012855850029],
           [-122.26402655807172, 40.76204639719078],
           [-122.26127997604047, 40.76276150931833],
           [-122.25866214004193, 40.762598984510404],
           [-122.25677386489545, 40.76285902401234],
           [-122.25544348922406, 40.76172134368025],
           [-122.25505725112592, 40.759315898296144],
           [-122.25479975906049, 40.75752801087511],
           [-122.25334063735639, 40.75567505862544],
           [-122.24239722457563, 40.757137919956605],
           [-122.24205390182172, 40.761168749064105],
           [-122.24295512405072, 40.7658169017401],
           [-122.24840537276899, 40.765134326256295],
           [-122.25505725112592, 40.767214534428106],
           [-122.25681678023969, 40.77000971162333],
           [-122.25900546279584, 40.76893715753183],
           [-122.26372615066205, 40.76965219551639],
           [-122.27020636764203, 40.76773457629702]]],
         [[[-122.29560405738172, 40.80445262518431],
           [-122.29912311560926, 40.80094420385379],
           [-122.30023891455946, 40.7974355970685],
           [-122.29998142249403, 40.79386182544881],
           [-122.30221302039442, 40.7906127752167],
           [-122.3022988510829, 40.78768849407207],
           [-122.30195552832899, 40.78385424146311],
           [-122.30392963416395, 40.782099509657286],
           [-122.30272800452528, 40.77936983470236],
           [-122.30350048072157, 40.77527511194008],
           [-122.30865032203016, 40.76825500001215],
           [-122.30435878760633, 40.76825500001215],
           [-122.29852230078993, 40.77547010446148],
           [-122.29259998328504, 40.779564815205006],
           [-122.29337245948133, 40.78528398865767],
           [-122.29208499915418, 40.79054779259037],
           [-122.28650600440321, 40.79581117927218],
           [-122.28856594092665, 40.80126906547163],
           [-122.28899509436903, 40.80445262518431]]],
         [[[-122.5646688730671, 40.62502468698354],
           [-122.55050680946847, 40.614665927905165],
           [-122.54690192055246, 40.611994540846524],
           [-122.54458449196359, 40.60710758082341],
           [-122.53960631203195, 40.60521786047124],
           [-122.53454230141183, 40.61153843969906],
           [-122.5313665659382, 40.616815991130274],
           [-122.552223423238, 40.6256109838015],
           [-122.55780241798898, 40.629975476115824],
           [-122.56878874611398, 40.63186449627961],
           [-122.57411024879953, 40.62938921761312],
           [-122.57548353981515, 40.6256109838015]]],
         [[[-122.31552431456949, 40.64931369246263],
           [-122.31477329604532, 40.647718216728265],
           [-122.3147518383732, 40.64654600616735],
           [-122.31438705794717, 40.6445597134934],
           [-122.31477329604532, 40.643664234349224],
           [-122.31449434630777, 40.642768743190764],
           [-122.31496641509439, 40.64198721381639],
           [-122.3131854283085, 40.64135221446187],
           [-122.31221983306314, 40.642215160829174],
           [-122.3132927166691, 40.64649861705207],
           [-122.31421539657022, 40.6481104024096],
           [-122.31488058440591, 40.65003146946013],
           [-122.31543848388101, 40.650194269210616]]],
         [[[-122.30755503752843, 40.641994569324794],
           [-122.30760868170873, 40.64229578482172],
           [-122.30768378356115, 40.64262142166771],
           [-122.30763013938085, 40.64347621082991],
           [-122.30779107192174, 40.64389953093334],
           [-122.30760868170873, 40.64474616308572],
           [-122.30791981795446, 40.644941538211135],
           [-122.3083060560526, 40.644640334653964],
           [-122.30831678488866, 40.64364716734874],
           [-122.30893905738012, 40.64326454977137],
           [-122.30922873595372, 40.64157123713963],
           [-122.3094218550028, 40.64113976118812],
           [-122.30904634574071, 40.64088738716904],
           [-122.30720098593847, 40.640618729906656]]],
         [[[-122.36298789018991, 40.50103544947573],
           [-122.36069191927317, 40.499183524994216],
           [-122.35975851053598, 40.499762766780236],
           [-122.3592757129133, 40.50021963001303],
           [-122.36182917589548, 40.501696255967595],
           [-122.36215104097727, 40.502316266016116],
           [-122.36369599336984, 40.502006261708196]]],
         [[[-122.35501723881039, 40.49788966321061],
           [-122.35633688564572, 40.49691063275781],
           [-122.35433059330258, 40.495597077791345],
           [-122.35155182476315, 40.495344154317316],
           [-122.34810786838803, 40.495156500801116],
           [-122.346841865733, 40.49513202421686],
           [-122.34698134060177, 40.496355842492896],
           [-122.34889107342038, 40.49600501686947]]],
         [[[-121.66552390000238, 41.03168185877892],
           [-121.66861380478754, 41.030451671458216],
           [-121.66874255082026, 41.02795885298925],
           [-121.66659678360834, 41.02446227326036],
           [-121.66608179947748, 41.02245489360414],
           [-121.66350687882318, 41.02391186879792],
           [-121.66376437088861, 41.02637246482504],
           [-121.66200484177484, 41.02692284872184],
           [-121.65942992112055, 41.027537978221474],
           [-121.6605028047265, 41.02954520293468],
           [-121.65655459305658, 41.029674699202126],
           [-121.64792860886469, 41.027829353347215],
           [-121.64269293686762, 41.02527168323073],
           [-121.64067591568842, 41.02828260098007],
           [-121.64295042893305, 41.03129338105561],
           [-121.64831484696283, 41.032361689279064],
           [-121.65080393692865, 41.03190846972562],
           [-121.65621127030268, 41.03291202311381],
           [-121.66063155075922, 41.03145524705223]]]]),
           Urban = /* color: #d63000 */ee.Geometry.MultiPolygon(
            [[[[-122.35904542488792, 40.581909685866655],
               [-122.3591312555764, 40.57363049929413],
               [-122.35737172646263, 40.572945953760936],
               [-122.35355226082542, 40.57229399912301],
               [-122.34977571053246, 40.572424390558794],
               [-122.35466805977562, 40.58158375301433]]],
             [[[-122.39775936116, 40.58761033192727],
               [-122.39827434529086, 40.58637188419773],
               [-122.39844600666781, 40.58454676153245],
               [-122.39677230824252, 40.583014923711325],
               [-122.39668647755404, 40.581646017678096],
               [-122.3963002394559, 40.57982076605545],
               [-122.3948411177518, 40.57822363003133],
               [-122.39187995899935, 40.577799893665656],
               [-122.39012042988558, 40.57897331087274],
               [-122.38887588490267, 40.58145045738641],
               [-122.3850993346097, 40.582265288163185],
               [-122.38445560444613, 40.5847097209382],
               [-122.38866130818148, 40.58721924564812],
               [-122.3926095198514, 40.588848756723436]]],
             [[[-122.34820509609143, 40.57070926007075],
               [-122.35024357494275, 40.57075815804694],
               [-122.35026503261487, 40.56784051626321],
               [-122.34831238445203, 40.567693815831625]]],
             [[[-122.36250663455884, 40.57063591303943],
               [-122.36244226154248, 40.56502870200644],
               [-122.35572601016919, 40.56511020553139],
               [-122.35600495990674, 40.570489218735645]]],
             [[[-122.35280762238712, 40.56381406697049],
               [-122.34697113557071, 40.564270493714716],
               [-122.34714279694767, 40.565607154132586],
               [-122.3526788763544, 40.56555825239263]]],
             [[[-122.3537946753046, 40.5582714938615],
               [-122.35239992661685, 40.55823888913256],
               [-122.35235701127262, 40.556429301780646],
               [-122.35083351655216, 40.55636409051255],
               [-122.3508764318964, 40.559102909083805],
               [-122.35377321763248, 40.55903770041992]]],
             [[[-122.31361167931055, 40.57420984165169],
               [-122.31157320045924, 40.57414464770522],
               [-122.30955617928004, 40.57549740907819],
               [-122.30979221367335, 40.578137659716155],
               [-122.31412666344141, 40.57808876713273]]],
             [[[-122.36047122125302, 40.58752317018738],
               [-122.35744568948422, 40.586920243766365],
               [-122.35208127145444, 40.58628472084377],
               [-122.35109421853696, 40.58750687495017],
               [-122.3510298455206, 40.59076584337923],
               [-122.35107276086484, 40.591857562288716],
               [-122.35347602014218, 40.59291667554037],
               [-122.36012789849912, 40.59293296945938]]],
             [[[-122.35025736932431, 40.5858610355404],
               [-122.34594437722836, 40.585437347553],
               [-122.34360549096738, 40.585551417659765],
               [-122.34294030313168, 40.58850087715392],
               [-122.34412047509824, 40.58858235208927],
               [-122.34457108621274, 40.58933191683702],
               [-122.34772536401425, 40.589592633040795],
               [-122.34804722909604, 40.58853346713997],
               [-122.35042903070126, 40.58854976212704]]],
             [[[-122.38441890236709, 40.676447012090776],
               [-122.38268083092544, 40.67573097210553],
               [-122.38437598702285, 40.675291580125275],
               [-122.3844403600392, 40.6745267056962],
               [-122.38057797905776, 40.67470571964698],
               [-122.37997716423843, 40.675340401599414],
               [-122.3780459737477, 40.67545431823338],
               [-122.37806743141982, 40.67677248226906],
               [-122.38047069069717, 40.67717931775744],
               [-122.38092130181167, 40.678106893387515],
               [-122.38403266426894, 40.67813943966648]]],
             [[[-122.38933372054103, 40.68678320823419],
               [-122.38845395598415, 40.685660498030416],
               [-122.38879727873805, 40.68059993179613],
               [-122.38699483428005, 40.68058365925927],
               [-122.38714503798488, 40.68569304062132],
               [-122.38922643218044, 40.68777573338772]]],
             [[[-122.37365629496342, 40.681993880487255],
               [-122.37369921030766, 40.681245355333836],
               [-122.37148907007939, 40.680187642416875],
               [-122.3597302657581, 40.68009000653226],
               [-122.35988046946294, 40.680854817134325],
               [-122.36545946421391, 40.68150571286234],
               [-122.37002994837529, 40.68139180656876]]],
             [[[-122.35194113077885, 40.679976097819456],
               [-122.35275652231938, 40.67937400567536],
               [-122.3518767577625, 40.678771908093054],
               [-122.35090043368108, 40.679463506203064]]],
             [[[-122.34872662401703, 40.67843760254641],
               [-122.35080801821259, 40.67407627908016],
               [-122.35035740709809, 40.673913537608385],
               [-122.34840475893525, 40.67838878334034]]],
             [[[-122.35665674903541, 40.661679858122525],
               [-122.36066933372169, 40.65267798532451],
               [-122.36006851890235, 40.652596588528745],
               [-122.35614176490455, 40.661663580967804]]],
             [[[-122.36346625847061, 40.6408271350931],
               [-122.36529016060074, 40.64105508606748],
               [-122.3682727770253, 40.633467156795504],
               [-122.36552619499405, 40.63310890705597]]],
             [[[-122.38678664033684, 40.57415061456621],
               [-122.3905631906298, 40.57010846618674],
               [-122.3902198678759, 40.56437080408613],
               [-122.38884657686027, 40.55589381228211],
               [-122.389876545122, 40.55445913823759],
               [-122.38721579377922, 40.55276357473288],
               [-122.3836109048632, 40.55269835989447],
               [-122.38567084138664, 40.560393272374554],
               [-122.38421171968254, 40.56645728358228],
               [-122.38601416414055, 40.56756569935857]]],
             [[[-122.31963964124972, 40.470067400896944],
               [-122.31989713331515, 40.46962665631191],
               [-122.31845946928317, 40.4687941308703],
               [-122.31981130262668, 40.46748818781737],
               [-122.32114167829806, 40.46820645963901],
               [-122.32302995344455, 40.466525038545676],
               [-122.3205194058066, 40.4643538208824],
               [-122.3173651280051, 40.46619854413256],
               [-122.31895299574191, 40.46743921445888],
               [-122.31800885816867, 40.467569810002146],
               [-122.31646390577609, 40.46699845262554],
               [-122.31584163328463, 40.46822278390932],
               [-122.3173651280051, 40.4693491489781],
               [-122.31959672590548, 40.4701816675394]]],
             [[[-122.31485458036715, 40.468924723778926],
               [-122.3116573872214, 40.468092189635776],
               [-122.30961890837008, 40.46912061266568],
               [-122.3105415882712, 40.47089991055428],
               [-122.31251569410617, 40.47050814258935],
               [-122.31369586607272, 40.47068770319031]]],
             [[[-122.30648694574333, 40.461316530188256],
               [-122.3093622738073, 40.46262259324132],
               [-122.31163678705192, 40.46151244126504],
               [-122.30837522088981, 40.45886759352102],
               [-122.3051136547277, 40.457855340289754],
               [-122.30253873407341, 40.46099001045728],
               [-122.30489907800651, 40.462132822572215]]],
             [[[-122.2954251982682, 40.56068644411997],
               [-122.29611184377602, 40.56508777796666],
               [-122.29937340993813, 40.56600061097128],
               [-122.30164792318276, 40.56538118993303],
               [-122.29963090200356, 40.56371850511635],
               [-122.2980001189225, 40.562773038466716],
               [-122.29757096548012, 40.560914668544626]]],
             [[[-122.39246639058872, 40.63260085349515],
               [-122.39177974508091, 40.62634740997551],
               [-122.3870590572147, 40.625467972515644],
               [-122.38727363393589, 40.62273187080672],
               [-122.38130840108677, 40.62243871040433],
               [-122.38353999898716, 40.625207396229555],
               [-122.38117965505405, 40.62677083869641],
               [-122.38160880849644, 40.62823653276936],
               [-122.38487037465855, 40.62882280139158],
               [-122.3850420360355, 40.63064671530166],
               [-122.38057884023472, 40.63061414584726],
               [-122.37997802541538, 40.6343269613297]]],
             [[[-122.37534316823765, 40.6214614997705],
               [-122.37019332692905, 40.61745478670509],
               [-122.36663135335728, 40.62178723823691],
               [-122.36770423696323, 40.6242627986701],
               [-122.37032207296177, 40.62833424456381],
               [-122.37675937459751, 40.63159122256911]]]]),
        Bare = /* color: #98ff00 */ee.Geometry.MultiPolygon(
            [[[[-122.16639592180047, 40.79839295759116],
               [-122.16648175248895, 40.79673607492855],
               [-122.16751172075067, 40.796053817106326],
               [-122.16852023134027, 40.795436530177774],
               [-122.16924979219232, 40.79496543892341],
               [-122.16985060701165, 40.79436438660768],
               [-122.17064454088006, 40.793470920406435],
               [-122.17038704881463, 40.79334096068461],
               [-122.16873480806146, 40.795079150911555],
               [-122.16646029481683, 40.79499792808277],
               [-122.16543032655511, 40.79597259546997],
               [-122.16467930803094, 40.796005084136446],
               [-122.16510846147332, 40.79657363322588],
               [-122.16592385301385, 40.79756452142919],
               [-122.16600968370233, 40.79847417626624]]],
             [[[-122.19021393785272, 40.785282961121744],
               [-122.19214512834344, 40.782975853783505],
               [-122.19223095903192, 40.78263465505069],
               [-122.19096495637689, 40.78274838815638],
               [-122.19049288759027, 40.78292711121469],
               [-122.18976332673822, 40.782829625969775],
               [-122.18948437700067, 40.78499051533142]]],
             [[[-122.20447120497514, 40.77928437723399],
               [-122.20425662825394, 40.77832571353811],
               [-122.20271167586137, 40.77673332631513],
               [-122.20101651976395, 40.77730204041946],
               [-122.20093068907548, 40.777870749655094],
               [-122.2021966917305, 40.77778950577666],
               [-122.2028618795662, 40.778293216221236],
               [-122.20260438750077, 40.77879692284635],
               [-122.2038703901558, 40.779528103086434],
               [-122.20344123671342, 40.780113041483666],
               [-122.20414933989335, 40.78009456589495]]],
             [[[-122.30186393693812, 40.745536399844795],
               [-122.29789426759608, 40.74231750085919],
               [-122.29639223054774, 40.74475607500233],
               [-122.29710033372767, 40.745503886492486],
               [-122.29546955064662, 40.74587778908433],
               [-122.29529788926966, 40.74652804945452],
               [-122.29759386018641, 40.747747270511475],
               [-122.29909589723475, 40.747731014377756],
               [-122.3002760692013, 40.74912902735386]]],
             [[[-122.30127599630609, 40.72462358359504],
               [-122.30187681112542, 40.72332262823654],
               [-122.29945209417596, 40.72319253130208],
               [-122.29752090368524, 40.72411946641139],
               [-122.29818609152093, 40.725387883009674]]],
             [[[-121.77849739553523, 40.92224928798619],
               [-121.77860468389582, 40.91986587535211],
               [-121.77759617330622, 40.919395668151665],
               [-121.77748888494563, 40.92066035577979],
               [-121.77738159658503, 40.92210336723365]]],
             [[[-121.77091504148278, 40.921498196055566],
               [-121.77033568433556, 40.921611691041264],
               [-121.7695310216311, 40.921992708496354],
               [-121.7687585454348, 40.9220170286849],
               [-121.76876515422042, 40.92168465200057],
               [-121.7695376304167, 40.92160358426302],
               [-121.76923722300704, 40.92114149626035],
               [-121.77010625872786, 40.92106853470147],
               [-121.77099675212081, 40.92094693192433],
               [-121.77096456561263, 40.92044430473861],
               [-121.76944107089217, 40.920655084346365],
               [-121.76861495051558, 40.92114149626035],
               [-121.76802486453231, 40.9212144577387],
               [-121.76787466082747, 40.92085775641222],
               [-121.76734894786055, 40.9207685807798],
               [-121.7673918632048, 40.921992708496354],
               [-121.76740259204085, 40.92243857719724],
               [-121.77100748095687, 40.922479110566364]]],
             [[[-121.77432706632652, 40.92218005597201],
               [-121.77372625150718, 40.920923504284744],
               [-121.77308252134361, 40.92115860286869],
               [-121.77255680837669, 40.922415150086394],
               [-121.77364042081871, 40.923023148228395],
               [-121.77442362585106, 40.923120427412066],
               [-121.77524974622764, 40.92266645666323]]],
             [[[-122.40848097970854, 40.84716528941957],
               [-122.407483197955, 40.84769282096121],
               [-122.40717206170928, 40.8467432611626],
               [-122.40573439767729, 40.84645920216862],
               [-122.40379247835051, 40.84645920216862],
               [-122.40337405374419, 40.846905580041046],
               [-122.40207586458098, 40.84698673933118],
               [-122.40190420320403, 40.84792817983269],
               [-122.40364227464568, 40.84782267423506],
               [-122.40415725877654, 40.84698673933118],
               [-122.40575585534941, 40.84707601443549],
               [-122.40677509477507, 40.84812295895625],
               [-122.4075904863156, 40.84833396902734],
               [-122.40840587785613, 40.847855137513776]]],
             [[[-122.39561902797684, 40.8571069455651],
               [-122.39731418407425, 40.85481856501785],
               [-122.39652025020584, 40.85441281553576],
               [-122.39581214702591, 40.85559759705743],
               [-122.3950182131575, 40.855808583324965],
               [-122.39297973430618, 40.85692842226601],
               [-122.39497529781326, 40.85850265659196]]],
             [[[-122.41526815691498, 40.50579172995356],
               [-122.41067621508148, 40.50634644218583],
               [-122.41157743731048, 40.50890784798883],
               [-122.41464588442352, 40.50846735841459],
               [-122.41638395586517, 40.50784740522349]]],
             [[[-122.46856967763146, 40.60574483684519],
               [-122.46863405064782, 40.60504432900845],
               [-122.46934215382775, 40.60497916511548],
               [-122.46968547658166, 40.6053212748447],
               [-122.46992151097497, 40.606119524069605],
               [-122.47032920674523, 40.606249849568286],
               [-122.47075836018762, 40.60592403534503],
               [-122.47155229405602, 40.60592403534503],
               [-122.4715308363839, 40.60525611122177],
               [-122.47024337605676, 40.60527240213346],
               [-122.46979276494226, 40.604751090989794],
               [-122.47060815648278, 40.60393653418765],
               [-122.46929923848352, 40.603741039078],
               [-122.4687198813363, 40.604376396093755],
               [-122.46736804799279, 40.604392687219864],
               [-122.46648828343591, 40.603903951709064],
               [-122.46648828343591, 40.60287759550395],
               [-122.46554414586267, 40.60289388699536],
               [-122.46545831517419, 40.603724747793024],
               [-122.4646858389779, 40.604392687219864],
               [-122.465243738453, 40.6046370536351],
               [-122.46545831517419, 40.60517465660375],
               [-122.46711055592736, 40.605288693041196],
               [-122.46799032048425, 40.60589145383534]]],
             [[[-122.46289412335595, 40.60800921892731],
               [-122.46355931119164, 40.60739833203778],
               [-122.4650828059121, 40.60728429919994],
               [-122.46581236676415, 40.60646977327109],
               [-122.46582309560021, 40.605875163074536],
               [-122.46511499242028, 40.605508619906765],
               [-122.46404210881433, 40.606437192027464],
               [-122.46270100430688, 40.60663267925104]]],
             [[[-122.44509779385133, 40.58875884380959],
               [-122.44566642216249, 40.58686860473627],
               [-122.44664274624391, 40.58639603662006],
               [-122.44722210339113, 40.58673824145153],
               [-122.44717918804689, 40.588408501807955],
               [-122.44828425816102, 40.58765077910846],
               [-122.44843446186586, 40.586404184374494],
               [-122.44949661663576, 40.58621678577145],
               [-122.4494322436194, 40.58576865654809],
               [-122.44751178196474, 40.5855323690213],
               [-122.44712554386659, 40.58501090393927],
               [-122.44633160999818, 40.58585828263298],
               [-122.44525872639223, 40.585931612976715],
               [-122.44304858616395, 40.58519830592113],
               [-122.4418147700171, 40.58586643045292],
               [-122.43943296841188, 40.586078273423006],
               [-122.43970118931337, 40.5875041221105],
               [-122.4408062594275, 40.588408501807955],
               [-122.44206153324647, 40.58815592852869],
               [-122.44370304516359, 40.58846553435189]]]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var a = require('users/tonywangs/GEOG481:UrbanClass/ImportImage.js');
var label = 'landcover'
var year = 1995;
var sDate = year.toString()
var newfc = ee.FeatureCollection([
  ee.Feature(heavyVeg, {'class': 0}),
  //ee.Feature(lightVeg, {'class': 1}),
  ee.Feature(water, {'class': 1}),
  ee.Feature(bare, {'class': 2}),
  ee.Feature(urban, {'class': 3})
]);

var result = a.importImage('2010-05-01', '2010-08-31', roi)

/*------------------------------------------------------------------------------
                             Start Training 
-------------------------------------------------------------------------------*/
// Select the bands for training
var bands = ['B2', 'B3', 'B4', 'B5', 'B6', 'B7'];


// Sample the input imagery to get a FeatureCollection of training data.
var training = result.select(bands).sampleRegions({
  collection: newfc,
  properties: ['class'],
  scale: 30
});

// Train a CART classifier with default parameters.
var trained = ee.Classifier.randomForest().train(training, 'class', bands);

/* Make a Random Forest classifier and train it.
var classifier = ee.Classifier.randomForest().train({
  features: training,
  classProperty: 'landcover',
  inputProperties: bands
});*/

//Initiate loop start for next x amount of images
/*------------------------------------------------------------------------------
            Start of image loading >> classified image loading
-------------------------------------------------------------------------------*/
var result = a.importImage('2010-05-01', '2010-08-31', roi)
Map.addLayer(result, {bands: ['B4', 'B3', 'B2'], gamma: 2.2});


// Classify the image with the same bands used for training.
var classified = result.select(bands).classify(trained);

// Define a palette for the Land Use classification.
var palette = [
  '01380A', // heavy veg
  //'07DB29', // light veg
  '0000FF', // water 
  '735005', // bare
  'a3a3a3', // urban 
];

// Display the classification result and the input image.
Map.addLayer(classified, {min: 0, max: 2, palette: palette}, 'Land Use Classification');


// little test for git
