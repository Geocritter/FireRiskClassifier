/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var roi = 
    /* color: #ffc82d */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-123.41054055342455, 41.346599408357],
          [-123.41054055342455, 40.072492956391045],
          [-120.99904152998705, 40.072492956391045],
          [-120.99904152998705, 41.346599408357]]], null, false),
    HeavyVeg = 
    /* color: #d63000 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-122.12276640613973, 40.797237903742776],
           [-122.12276640613973, 40.79424893537908],
           [-122.11695137699544, 40.79424893537908],
           [-122.11695137699544, 40.797237903742776]]],
         [[[-122.12936889035659, 40.803007116426045],
           [-122.12936889035659, 40.803007116426045],
           [-122.12936889035659, 40.803007116426045],
           [-122.12936889035659, 40.803007116426045]]],
         [[[-122.12799559934096, 40.80264977791639],
           [-122.12799559934096, 40.798588977885856],
           [-122.11730967862563, 40.798588977885856],
           [-122.11730967862563, 40.80264977791639]]],
         [[[-122.08907366253281, 40.80326808628344],
           [-122.08907366253281, 40.797712901057594],
           [-122.08049059368516, 40.797712901057594],
           [-122.08049059368516, 40.80326808628344]]],
         [[[-122.22250567480481, 40.8428949605357],
           [-122.22250567480481, 40.83828467071675],
           [-122.21362219854748, 40.83828467071675],
           [-122.21362219854748, 40.8428949605357]]],
         [[[-122.18884689279803, 40.85592280903216],
           [-122.18884689279803, 40.85409694722696],
           [-122.18331081339129, 40.85409694722696],
           [-122.18331081339129, 40.85592280903216]]],
         [[[-122.3810433714375, 40.94613053360439],
           [-122.3810433714375, 40.943456235485215],
           [-122.37612956452222, 40.943456235485215],
           [-122.37612956452222, 40.94613053360439]]],
         [[[-122.08704112596936, 40.92323022583032],
           [-122.08704112596936, 40.92027936512613],
           [-122.0775568348927, 40.92027936512613],
           [-122.0775568348927, 40.92323022583032]]],
         [[[-122.37989940698442, 40.98410593820844],
           [-122.37989940698442, 40.9809634095818],
           [-122.37384834344682, 40.9809634095818],
           [-122.37384834344682, 40.98410593820844]]],
         [[[-122.32901162464717, 40.9306935375348],
           [-122.32901162464717, 40.926267696940954],
           [-122.31948441822627, 40.926267696940954],
           [-122.31948441822627, 40.9306935375348]]],
         [[[-122.1386787531306, 41.13834370546069],
           [-122.1386787531306, 41.132186352590466],
           [-122.12730618690746, 41.132186352590466],
           [-122.12730618690746, 41.13834370546069]]],
         [[[-122.31973859047191, 40.883601562356155],
           [-122.31973859047191, 40.877712396291074],
           [-122.31267901634472, 40.877712396291074],
           [-122.31267901634472, 40.883601562356155]]],
         [[[-122.27067891228015, 40.860782963264796],
           [-122.27067891228015, 40.85786988914411],
           [-122.26488534080798, 40.85786988914411],
           [-122.26488534080798, 40.860782963264796]]],
         [[[-122.31084277457248, 40.85088920614862],
           [-122.31084277457248, 40.849947807715445],
           [-122.30822493857394, 40.849947807715445],
           [-122.30822493857394, 40.85088920614862]]],
         [[[-122.22101291250591, 40.866099077519095],
           [-122.22101291250591, 40.85658927568458],
           [-122.20612128805523, 40.85658927568458],
           [-122.20612128805523, 40.866099077519095]]],
         [[[-122.37623141313736, 40.73882762287462],
           [-122.37623141313736, 40.736307536786065],
           [-122.37107084299271, 40.736307536786065],
           [-122.37107084299271, 40.73882762287462]]],
         [[[-122.19310320257571, 40.906150094497555],
           [-122.19310320257571, 40.903798537260144],
           [-122.18625820516971, 40.903798537260144],
           [-122.18625820516971, 40.906150094497555]]],
         [[[-121.89827699675494, 40.83332529324785],
           [-121.89827699675494, 40.83144198400769],
           [-121.89353485121661, 40.83144198400769],
           [-121.89353485121661, 40.83332529324785]]],
         [[[-122.1297888361879, 40.82371967451927],
           [-122.1297888361879, 40.82040713244566],
           [-122.12532564038712, 40.82040713244566],
           [-122.12532564038712, 40.82371967451927]]],
         [[[-122.17662137709522, 40.92109368880405],
           [-122.17662137709522, 40.91844269854802],
           [-122.1736816760149, 40.91844269854802],
           [-122.1736816760149, 40.92109368880405]]]], null, false),
    LightVeg = 
    /* color: #98ff00 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-122.2174503240414, 40.698865422624856],
           [-122.2174503240414, 40.69772258054714],
           [-122.21612531278804, 40.69772258054714],
           [-122.21612531278804, 40.698865422624856]]],
         [[[-122.22241331143022, 40.7047653852513],
           [-122.22241331143022, 40.70436278483872],
           [-122.22190369171739, 40.70436278483872],
           [-122.22190369171739, 40.7047653852513]]],
         [[[-122.2231643640288, 40.70414728206421],
           [-122.2231643640288, 40.70375281135651],
           [-122.2222631417998, 40.70375281135651],
           [-122.2222631417998, 40.70414728206421]]],
         [[[-122.51560580030618, 40.99233277719605],
           [-122.51560580030618, 40.99133265460626],
           [-122.51053642526803, 40.99133265460626],
           [-122.51053642526803, 40.99233277719605]]],
         [[[-122.5200242457198, 40.99770357309697],
           [-122.5200242457198, 40.99599499164866],
           [-122.51723474834431, 40.99599499164866],
           [-122.51723474834431, 40.99770357309697]]],
         [[[-122.25602635570709, 40.67570634882941],
           [-122.25602635570709, 40.67485197255992],
           [-122.25377330013458, 40.67485197255992],
           [-122.25377330013458, 40.67570634882941]]],
         [[[-122.2637001556987, 40.67324693610808],
           [-122.2637001556987, 40.67085456671707],
           [-122.25710192152206, 40.67085456671707],
           [-122.25710192152206, 40.67324693610808]]],
         [[[-122.26476625442356, 40.609275394103804],
           [-122.26476625442356, 40.606033618621076],
           [-122.2582538509354, 40.606033618621076],
           [-122.2582538509354, 40.609275394103804]]],
         [[[-122.21655556709898, 40.673542006115134],
           [-122.21655556709898, 40.67025452501264],
           [-122.21101948769224, 40.67025452501264],
           [-122.21101948769224, 40.673542006115134]]],
         [[[-122.22031269595551, 40.688835253409025],
           [-122.22031269595551, 40.68690716838704],
           [-122.2158441357367, 40.68690716838704],
           [-122.2158441357367, 40.688835253409025]]],
         [[[-122.18709091258731, 40.712055141703885],
           [-122.18709091258731, 40.71031884594464],
           [-122.18329826904025, 40.71031884594464],
           [-122.18329826904025, 40.712055141703885]]],
         [[[-122.21300368787303, 40.72197470312701],
           [-122.21300368787303, 40.71964100347657],
           [-122.20819716931834, 40.71964100347657],
           [-122.20819716931834, 40.72197470312701]]],
         [[[-122.22248227996349, 40.54181220872737],
           [-122.22248227996349, 40.53965973358817],
           [-122.21286924285411, 40.53965973358817],
           [-122.21286924285411, 40.54181220872737]]],
         [[[-121.9925979149833, 40.75217429893675],
           [-121.9925979149833, 40.750126131155234],
           [-121.98285613184122, 40.750126131155234],
           [-121.98285613184122, 40.75217429893675]]],
         [[[-122.07382886471999, 40.75606555656547],
           [-122.07382886471999, 40.754249136283654],
           [-122.06760613980543, 40.754249136283654],
           [-122.06760613980543, 40.75606555656547]]],
         [[[-122.17090716123825, 40.57241385534219],
           [-122.17090716123825, 40.570625025383954],
           [-122.16516186952835, 40.570625025383954],
           [-122.16516186952835, 40.57241385534219]]],
         [[[-122.10809441666578, 40.84655245475584],
           [-122.10809441666578, 40.8445396618364],
           [-122.10410328965162, 40.8445396618364],
           [-122.10410328965162, 40.84655245475584]]],
         [[[-122.10483285050367, 40.844215012091915],
           [-122.10483285050367, 40.84218591515824],
           [-122.09710808854078, 40.84218591515824],
           [-122.09710808854078, 40.844215012091915]]],
         [[[-122.34716255764228, 40.65804091971555],
           [-122.34716255764228, 40.65162706338732],
           [-122.34081108669501, 40.65162706338732],
           [-122.34081108669501, 40.65804091971555]]],
         [[[-122.23401845399295, 40.70117992192407],
           [-122.23401845399295, 40.698780421004095],
           [-122.2316151947156, 40.698780421004095],
           [-122.2316151947156, 40.70117992192407]]]], null, false),
    Water = /* color: #3027ff */ee.Geometry.MultiPolygon(
        [[[[-122.41479154066461, 40.75221761983311],
           [-122.41685147718805, 40.748056199656325],
           [-122.42062802748102, 40.74499999086111],
           [-122.42200131849664, 40.74148842864843],
           [-122.42740865187066, 40.738496951641906],
           [-122.42122884230035, 40.73108271140369],
           [-122.42011304335016, 40.728415984391475],
           [-122.41985555128473, 40.723667644932405],
           [-122.42303128675836, 40.72275696577168],
           [-122.4159073396148, 40.71982969836205],
           [-122.40629430250543, 40.720089905122514],
           [-122.40114446119684, 40.73212335636913],
           [-122.40543599562066, 40.73869205206925],
           [-122.40389104322809, 40.7423338216807],
           [-122.39599461988824, 40.741423397970124],
           [-122.39041562513727, 40.73921231707804],
           [-122.3844074769439, 40.74096818144174],
           [-122.39007230238336, 40.74369943388104],
           [-122.39728208021539, 40.74779610224814],
           [-122.39659543470758, 40.75241268001387],
           [-122.40286107496637, 40.751567415097746],
           [-122.40783925489801, 40.75364804786967]]],
         [[[-122.36974604521797, 40.78010953979385],
           [-122.37515337859199, 40.77666482823608],
           [-122.3809898654084, 40.77211493543853],
           [-122.37609751616523, 40.76905983257736],
           [-122.3729217806916, 40.76580956894844],
           [-122.3802173892121, 40.76177902127315],
           [-122.38296397124336, 40.75891848431719],
           [-122.38605387602851, 40.75657795342682],
           [-122.38596804534004, 40.75508257110478],
           [-122.38613970671699, 40.75261186574859],
           [-122.38688650368027, 40.74747510550231],
           [-122.37976255653672, 40.75098635162672],
           [-122.37521353004746, 40.755342640011754],
           [-122.36714544533066, 40.75488751875692],
           [-122.36087980507187, 40.74975093431657],
           [-122.35744657753281, 40.75222174598357],
           [-122.3596781754332, 40.75683801648405],
           [-122.35615911720566, 40.762039063983096],
           [-122.36276808021836, 40.76444441081968],
           [-122.36388387916855, 40.767239704530276],
           [-122.35916319130234, 40.77243993811459],
           [-122.36165228126816, 40.77711980037817]]],
         [[[-122.28119269576703, 40.765459363075294],
           [-122.28157893386518, 40.761558816328865],
           [-122.27784529891645, 40.760583643874924],
           [-122.27604285445844, 40.758795790551474],
           [-122.27243796554242, 40.757658040672595],
           [-122.27020636764203, 40.756682810991926],
           [-122.26909056869184, 40.75739798082329],
           [-122.26655856338178, 40.757593025805654],
           [-122.26514235702192, 40.755089905079885],
           [-122.26132289138471, 40.75453725533563],
           [-122.26055041518842, 40.75671531887844],
           [-122.26488486495649, 40.76012855850029],
           [-122.26402655807172, 40.76204639719078],
           [-122.26127997604047, 40.76276150931833],
           [-122.25866214004193, 40.762598984510404],
           [-122.25677386489545, 40.76285902401234],
           [-122.25544348922406, 40.76172134368025],
           [-122.25505725112592, 40.759315898296144],
           [-122.25479975906049, 40.75752801087511],
           [-122.25334063735639, 40.75567505862544],
           [-122.24239722457563, 40.757137919956605],
           [-122.24205390182172, 40.761168749064105],
           [-122.24295512405072, 40.7658169017401],
           [-122.24840537276899, 40.765134326256295],
           [-122.25505725112592, 40.767214534428106],
           [-122.25681678023969, 40.77000971162333],
           [-122.25900546279584, 40.76893715753183],
           [-122.26372615066205, 40.76965219551639],
           [-122.27020636764203, 40.76773457629702]]],
         [[[-122.29560405738172, 40.80445262518431],
           [-122.29912311560926, 40.80094420385379],
           [-122.30023891455946, 40.7974355970685],
           [-122.29998142249403, 40.79386182544881],
           [-122.30221302039442, 40.7906127752167],
           [-122.3022988510829, 40.78768849407207],
           [-122.30195552832899, 40.78385424146311],
           [-122.30392963416395, 40.782099509657286],
           [-122.30272800452528, 40.77936983470236],
           [-122.30350048072157, 40.77527511194008],
           [-122.30865032203016, 40.76825500001215],
           [-122.30435878760633, 40.76825500001215],
           [-122.29852230078993, 40.77547010446148],
           [-122.29259998328504, 40.779564815205006],
           [-122.29337245948133, 40.78528398865767],
           [-122.29208499915418, 40.79054779259037],
           [-122.28650600440321, 40.79581117927218],
           [-122.28856594092665, 40.80126906547163],
           [-122.28899509436903, 40.80445262518431]]],
         [[[-122.5646688730671, 40.62502468698354],
           [-122.55050680946847, 40.614665927905165],
           [-122.54690192055246, 40.611994540846524],
           [-122.54458449196359, 40.60710758082341],
           [-122.53960631203195, 40.60521786047124],
           [-122.53454230141183, 40.61153843969906],
           [-122.5313665659382, 40.616815991130274],
           [-122.552223423238, 40.6256109838015],
           [-122.55780241798898, 40.629975476115824],
           [-122.56878874611398, 40.63186449627961],
           [-122.57411024879953, 40.62938921761312],
           [-122.57548353981515, 40.6256109838015]]],
         [[[-122.31552431456949, 40.64931369246263],
           [-122.31477329604532, 40.647718216728265],
           [-122.3147518383732, 40.64654600616735],
           [-122.31438705794717, 40.6445597134934],
           [-122.31477329604532, 40.643664234349224],
           [-122.31449434630777, 40.642768743190764],
           [-122.31496641509439, 40.64198721381639],
           [-122.3131854283085, 40.64135221446187],
           [-122.31221983306314, 40.642215160829174],
           [-122.3132927166691, 40.64649861705207],
           [-122.31421539657022, 40.6481104024096],
           [-122.31488058440591, 40.65003146946013],
           [-122.31543848388101, 40.650194269210616]]],
         [[[-122.30755503752843, 40.641994569324794],
           [-122.30760868170873, 40.64229578482172],
           [-122.30768378356115, 40.64262142166771],
           [-122.30763013938085, 40.64347621082991],
           [-122.30779107192174, 40.64389953093334],
           [-122.30760868170873, 40.64474616308572],
           [-122.30791981795446, 40.644941538211135],
           [-122.3083060560526, 40.644640334653964],
           [-122.30831678488866, 40.64364716734874],
           [-122.30893905738012, 40.64326454977137],
           [-122.30922873595372, 40.64157123713963],
           [-122.3094218550028, 40.64113976118812],
           [-122.30904634574071, 40.64088738716904],
           [-122.30720098593847, 40.640618729906656]]],
         [[[-122.36298789018991, 40.50103544947573],
           [-122.36069191927317, 40.499183524994216],
           [-122.35975851053598, 40.499762766780236],
           [-122.3592757129133, 40.50021963001303],
           [-122.36182917589548, 40.501696255967595],
           [-122.36215104097727, 40.502316266016116],
           [-122.36369599336984, 40.502006261708196]]],
         [[[-122.35501723881039, 40.49788966321061],
           [-122.35633688564572, 40.49691063275781],
           [-122.35433059330258, 40.495597077791345],
           [-122.35155182476315, 40.495344154317316],
           [-122.34810786838803, 40.495156500801116],
           [-122.346841865733, 40.49513202421686],
           [-122.34698134060177, 40.496355842492896],
           [-122.34889107342038, 40.49600501686947]]],
         [[[-121.66552390000238, 41.03168185877892],
           [-121.66861380478754, 41.030451671458216],
           [-121.66874255082026, 41.02795885298925],
           [-121.66659678360834, 41.02446227326036],
           [-121.66608179947748, 41.02245489360414],
           [-121.66350687882318, 41.02391186879792],
           [-121.66376437088861, 41.02637246482504],
           [-121.66200484177484, 41.02692284872184],
           [-121.65942992112055, 41.027537978221474],
           [-121.6605028047265, 41.02954520293468],
           [-121.65655459305658, 41.029674699202126],
           [-121.64792860886469, 41.027829353347215],
           [-121.64269293686762, 41.02527168323073],
           [-121.64067591568842, 41.02828260098007],
           [-121.64295042893305, 41.03129338105561],
           [-121.64831484696283, 41.032361689279064],
           [-121.65080393692865, 41.03190846972562],
           [-121.65621127030268, 41.03291202311381],
           [-121.66063155075922, 41.03145524705223]]]]),
    Bare = /* color: #ff896a */ee.Geometry.MultiPolygon(
        [[[[-121.67004193725495, 40.90873416252205],
           [-121.66997126713068, 40.90666597949214],
           [-121.67005709781915, 40.904784755067105],
           [-121.67237452640802, 40.902676422722074],
           [-121.6704433359173, 40.900762647478956],
           [-121.66919879093439, 40.89936782724636],
           [-121.66791133060724, 40.90180063414405],
           [-121.66804007663995, 40.89761615087334],
           [-121.66452101841242, 40.89502098950059],
           [-121.66379722948082, 40.90889911720011]]],
         [[[-122.17543807781769, 40.66066162190781],
           [-122.1880122736795, 40.65336894756978],
           [-122.1946212366922, 40.64845245389248],
           [-122.18732562817169, 40.642395877673295],
           [-122.16333595074249, 40.65672237450656]]],
         [[[-122.081923594942, 40.614718431077726],
           [-122.07334052609434, 40.61695807700899],
           [-122.07523953007689, 40.61927094163919],
           [-122.08413373517027, 40.617120957420774]]],
         [[[-122.20550999212124, 40.49971469410119],
           [-122.20671162175991, 40.49867858128384],
           [-122.20784887838222, 40.498800957646836],
           [-122.20882520246364, 40.4975853425366],
           [-122.2104023413644, 40.49775667217416],
           [-122.21100315618374, 40.49639418153295],
           [-122.20918998288967, 40.49549671749263],
           [-122.20510229635097, 40.49549671749263],
           [-122.20265612172939, 40.498335926279864]]],
         [[[-122.16305352587096, 40.49111003207089],
           [-122.16226495642059, 40.489767805249244],
           [-122.15802706617706, 40.489686210047985],
           [-122.1555487050473, 40.49020025815962],
           [-122.15594030756347, 40.49109371336498]]],
         [[[-122.18774933252742, 40.795687211891455],
           [-122.18825895224025, 40.794988698714064],
           [-122.1882696810763, 40.793997772063584],
           [-122.18804437551906, 40.793871874585946],
           [-122.18785125646998, 40.79435921833402],
           [-122.18732554350306, 40.79385562973274],
           [-122.18660134706904, 40.793863752159844],
           [-122.1865208807986, 40.79481406927135]]],
         [[[-122.18632776174952, 40.79508616611026],
           [-122.18614537153651, 40.794793763492386],
           [-122.1860166255038, 40.79360383399968],
           [-122.18548018370082, 40.793445445871875],
           [-122.18449849520137, 40.79373379320696],
           [-122.18483108911921, 40.79428205581226],
           [-122.18485254679133, 40.79473690727827]]],
         [[[-122.18272506644229, 40.79655381688551],
           [-122.18316494872073, 40.79592029025811],
           [-122.18335270335177, 40.795376102302484],
           [-122.18238710810641, 40.79516898481907],
           [-122.18168973376254, 40.79625329859803],
           [-122.18049883295993, 40.79620862684458],
           [-122.17987119605044, 40.7971670324141],
           [-122.18091725756625, 40.79684621175138],
           [-122.18145906378726, 40.79707362909001]]],
         [[[-122.16634227956263, 40.79782293066479],
           [-122.16629936421839, 40.79706758574098],
           [-122.16678216184107, 40.796466552457154],
           [-122.16802670682398, 40.7959142468041],
           [-122.16888501370875, 40.79531320307834],
           [-122.16883136952845, 40.7946390529655],
           [-122.16771557057825, 40.79481774402364],
           [-122.16625644887415, 40.79530508082858],
           [-122.16567709172693, 40.79547564786515],
           [-122.16480805600611, 40.79527259181953],
           [-122.16391756261316, 40.79551625899973],
           [-122.16487242902247, 40.79700260943209],
           [-122.16560198987452, 40.79706758574098],
           [-122.16523720944849, 40.797912271969096],
           [-122.16574146474329, 40.7984970484462],
           [-122.16635300839869, 40.79820466085159]]],
         [[[-122.22511409760838, 40.78004499557721],
           [-122.22458838464146, 40.77956973303494],
           [-122.22400366307622, 40.7784323387855],
           [-122.22345112801915, 40.778420152313096],
           [-122.22331165315038, 40.778338909106594],
           [-122.22332238198643, 40.777948940332244],
           [-122.22265182973271, 40.777973313447696],
           [-122.22304879666692, 40.778696378472006],
           [-122.22310780526524, 40.77887917456322],
           [-122.22239970208531, 40.77908634285854],
           [-122.2228288555277, 40.77977689917656],
           [-122.22347458764789, 40.78043246469063]]],
         [[[-122.22278794214007, 40.7329018516924],
           [-122.22258945867297, 40.73353597931779],
           [-122.22294351026294, 40.73506436465315],
           [-122.22397347852466, 40.7351253367441],
           [-122.22469231054065, 40.734812346084404],
           [-122.22402175828692, 40.73288152698906]]],
         [[[-122.19861486549338, 40.734979386571084],
           [-122.19999352092704, 40.73452006110318],
           [-122.19981113071402, 40.73410138114418],
           [-122.19962874050101, 40.73371115279072],
           [-122.1995911895748, 40.73287784499887],
           [-122.19863095874747, 40.73282093579335],
           [-122.19850221271476, 40.73320710444676],
           [-122.1976814567562, 40.733751801684335],
           [-122.19845393295249, 40.733768061234834],
           [-122.19818034763297, 40.734170483843215],
           [-122.19769218559226, 40.7344468939217],
           [-122.19747760887107, 40.73479646972932]]],
         [[[-122.46676293332881, 40.60516160689359],
           [-122.46805575807399, 40.60474618671643],
           [-122.46695068795985, 40.604387782920185],
           [-122.4666717382223, 40.60415156118551],
           [-122.46640351732081, 40.60439185570137],
           [-122.46614066083735, 40.60488058764453],
           [-122.46613529641932, 40.60517382509501],
           [-122.46615675409144, 40.605479279404506],
           [-122.4665805431158, 40.60560146073744]]],
         [[[-122.47004327495402, 40.605900804059125],
           [-122.4702739449293, 40.60618385535452],
           [-122.47152921874827, 40.60600873023402],
           [-122.47178939302272, 40.605475206689555],
           [-122.47154531200236, 40.605167715994554],
           [-122.47098473031825, 40.605232879703685],
           [-122.47085866649455, 40.605495570261795],
           [-122.4701103301794, 40.60542022501353]]],
         [[[-122.46908618860137, 40.60246115071207],
           [-122.46882601432692, 40.60192963531469],
           [-122.46877773456465, 40.60153863278399],
           [-122.46815814428221, 40.601408298098825],
           [-122.46700747661482, 40.601402188654234],
           [-122.46638520412337, 40.601962218755666],
           [-122.46624304704558, 40.602548717977385],
           [-122.4669484680165, 40.602589446898925],
           [-122.4679945295323, 40.60205182313647],
           [-122.46834321670424, 40.60257315533327]]],
         [[[-122.44506858384764, 40.58937407524792],
           [-122.44546018636382, 40.588514519855856],
           [-122.4456908563391, 40.58745533687965],
           [-122.44593225515044, 40.58689314833133],
           [-122.44675837552703, 40.58672612038827],
           [-122.44752012288725, 40.587813831457325],
           [-122.4484106162802, 40.58758977257147],
           [-122.44859837091124, 40.587137578715634],
           [-122.4480672935263, 40.586049856647946],
           [-122.4455835679785, 40.58590319613931],
           [-122.44404934442198, 40.58568727869413],
           [-122.4421610692755, 40.586163925710075],
           [-122.44443558252013, 40.58928038017297]]]]),
    Urban = /* color: #bf04c2 */ee.Geometry.MultiPolygon(
        [[[[-122.38837069798446, 40.59018944101076],
           [-122.39776915837264, 40.58996131642397],
           [-122.40236110020614, 40.58833183245794],
           [-122.39867038060164, 40.58605048820161],
           [-122.39446467686629, 40.575718283622],
           [-122.39150351811385, 40.57568568739161],
           [-122.39176101017928, 40.57819555066455],
           [-122.38991565037703, 40.57845631028041],
           [-122.38897151280379, 40.576826546006345],
           [-122.38716906834578, 40.57597905289346],
           [-122.38553828526473, 40.5787496636333],
           [-122.37824267674422, 40.58070531977888],
           [-122.38094634343123, 40.586408990309806],
           [-122.38545245457625, 40.586115670546036]]],
         [[[-122.34546626934228, 40.60014672080296],
           [-122.34984363445459, 40.59877816543798],
           [-122.35098282436245, 40.59780848620883],
           [-122.35121885875576, 40.59344189227911],
           [-122.34587589839809, 40.591616962560295],
           [-122.34473864177578, 40.589743098969926],
           [-122.34244267085903, 40.587966953703614],
           [-122.34158436397426, 40.587869182869596],
           [-122.34132687190883, 40.59168213947933],
           [-122.34396616557949, 40.59340930468517],
           [-122.34563986400478, 40.59666798546014],
           [-122.3437515888583, 40.598118047340556],
           [-122.34282890895717, 40.60093781912635],
           [-122.34480301479213, 40.60149174368188]]],
         [[[-122.3607637231, 40.595435274716785],
           [-122.36063497706729, 40.578455493073875],
           [-122.33883398219425, 40.57786878250178],
           [-122.33917730494815, 40.58732071536105],
           [-122.35042112513858, 40.58875468502805]]],
         [[[-122.31486052017821, 40.546658954701236],
           [-122.33018129807128, 40.54975686876123],
           [-122.3300954673828, 40.5415715428543],
           [-122.33005255203857, 40.538603707499604],
           [-122.32327192764892, 40.53847325018153],
           [-122.319323715979, 40.53863632178941],
           [-122.31756418686523, 40.53495080656676],
           [-122.31456011276855, 40.53488557438293]]],
         [[[-122.37302657257607, 40.68393572023607],
           [-122.37399216782143, 40.677687086676734],
           [-122.37066622864296, 40.67765454017691],
           [-122.37064477097084, 40.67571799483918],
           [-122.35839244019081, 40.67557153113903],
           [-122.358607016912, 40.68523744516515]]],
         [[[-122.37185794774732, 40.66161782983127],
           [-122.37413246099194, 40.66067374741351],
           [-122.37355310384473, 40.65889948740816],
           [-122.37155754033765, 40.6589483208839],
           [-122.36996967260083, 40.65875298676647],
           [-122.3721798128291, 40.6558717420977],
           [-122.37024862233838, 40.653071769308106],
           [-122.36986238424024, 40.65473223246763],
           [-122.36705142919263, 40.65487874193892],
           [-122.36389715139111, 40.65557872719452],
           [-122.36284572545728, 40.65689728412443],
           [-122.36460525457105, 40.6593715428428],
           [-122.36449796621045, 40.6618945411112]]],
         [[[-122.38089713749689, 40.634479120636854],
           [-122.39141139683527, 40.633827765916585],
           [-122.39218387303156, 40.62702072893867],
           [-122.3905530899505, 40.62444755338854],
           [-122.3899951904754, 40.62122280102778],
           [-122.37793597874445, 40.619203179864435],
           [-122.37703475651544, 40.623633236677826],
           [-122.38098296818536, 40.62343779918996],
           [-122.38445911106867, 40.62500128308091],
           [-122.38351497349542, 40.625913298448964],
           [-122.38038215336603, 40.62532700428488],
           [-122.3775497406463, 40.627313869229795],
           [-122.38282832798761, 40.62796528749229],
           [-122.38716277775568, 40.62783500434813],
           [-122.38845023808283, 40.63031034062494],
           [-122.38355788883966, 40.631059437465225],
           [-122.37935218510431, 40.63115714512921]]],
         [[[-122.36679517038257, 40.5232689686135],
           [-122.36653767831714, 40.52144212504796],
           [-122.37024985559376, 40.520316634138155],
           [-122.36954175241382, 40.51848971011278],
           [-122.36992799051197, 40.51808190777455],
           [-122.36988507516773, 40.51622229766625],
           [-122.36799680002125, 40.514852025633594],
           [-122.36385546930225, 40.514281070688114],
           [-122.359306442813, 40.51566766712182],
           [-122.35932790048511, 40.51721735861366],
           [-122.36151658304126, 40.52307323775576],
           [-122.36293278940113, 40.523709360953674],
           [-122.36561499841602, 40.5237419824934]]],
         [[[-122.38076411493213, 40.51708120346887],
           [-122.37988435037525, 40.511730527161895],
           [-122.37559281595142, 40.51168158607881],
           [-122.37316809900196, 40.5103764773531],
           [-122.37066234064703, 40.51129369731445],
           [-122.37083400202398, 40.51458900286878],
           [-122.37611258936529, 40.51581246617975]]],
         [[[-122.33023863187526, 40.47379886567045],
           [-122.33206253400539, 40.47232978743956],
           [-122.33041029325221, 40.470599498526376],
           [-122.3272560154507, 40.468689599566424],
           [-122.32547502866481, 40.46841208836052],
           [-122.32485275617336, 40.470175081229286]]],
         [[[-122.32848565085864, 40.468657543310655],
           [-122.31756369575, 40.46131126837833],
           [-122.31724183066821, 40.46145820175097],
           [-122.32807795508838, 40.46886975708978]]],
         [[[-122.33651885141876, 40.71007881086352],
           [-122.3354084168866, 40.709647778055064],
           [-122.33507045855072, 40.70876943841372],
           [-122.33405121912506, 40.71054237133609],
           [-122.33470567812469, 40.71075381890099],
           [-122.33666369070556, 40.71141255508722]]]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var a = require('users/tonywangs/GEOG481:UrbanClass/ImportImage.js');
var year = 1995;
var sDate = year.toString()
/*------------------------------------------------------------------------------
                             Start Training 
-------------------------------------------------------------------------------*/
// Select the bands for training
var bands = ['B2', 'B3', 'B4', 'B5', 'B6', 'B7'];

// Sample the input imagery to get a FeatureCollection of training data.
var training = result.select(bands).sampleRegions({
  collection: newfc,
  properties: ['landcover'],
  scale: 30
});

// Make a Random Forest classifier and train it.
var classifier = ee.Classifier.randomForest().train({
  features: training,
  classProperty: 'landcover',
  inputProperties: bands
});

//Initiate loop start for next x amount of images
/*------------------------------------------------------------------------------
            Start of image loading >> classified image loading
-------------------------------------------------------------------------------*/
var result = a.importImage('2017-05-01', '2017-12-31', roi)
Map.addLayer(result, {bands: ['B4', 'B3', 'B2'], gamma: 2.2});


//Classify starts here
var classified = result.select(bands).classify(classifier);

// Define a palette for the Land Use classification.
var palette = [
  'D3D3D3', // urban (0)  // grey
  '0000FF', // water (1)  // blue
  '008000' //  forest (2) // green
];

// Display the classification result and the input image.
Map.setCenter(-96.0171, 29.6803);
Map.addLayer(classified, {min: 0, max: 2, palette: palette}, 'Land Use Classification');



